	ORG	&H0000
Start:	IN	XIO
        AND     Key3Mask  		; Is the user pressing key 3?
        JPOS   	Start
        LOAD	A	
	OUT	SEVENSEG
HERE:	JUMP	HERE


A:	DW	1
Key3Mask:   	DW  	&B00000100

; IO address space map
SWITCHES:  	EQU 	&H00  		; slide switches
LEDS:      	EQU  	&H01  		; red LEDs
TIMER:     	EQU   	&H02  		; timer, usually running at 10 Hz
XIO:       	EQU   	&H03  		; pushbuttons and some misc. I/0
SEVENSEG:  	EQU   	&H04  		; seven-segment display (4-digits only)
SEVENSEG2:	EQU	&H05
LCD:   		EQU   	&H06  		; primitive 4-digit LCD display
GLED:           EQU   	&H08 
LPOSLOW:   	EQU   	&H80  		; left wheel encoder feedback
LPOSHIGH:  	EQU   	&H81  		; ...
LVEL:      	EQU   	&H82  		; ...
LVELCMD:   	EQU   	&H83  		; left wheel velocity command
RPOSLOW:   	EQU   	&H88  		; same four values for right wheel
RPOSHIGH:  	EQU   	&H89  		; ...
RVEL:      	EQU   	&H8A  		; ...
RVELCMD:    	EQU   	&H8B  		; ...
SONAR:    	EQU   	&HA0  		; base address for more than 16 registers....
DIST0:   	EQU   	&HA8  		; the eight sonar distance readings
DIST1:   	EQU   	&HA9  		; ...
DIST2:   	EQU   	&HAA  		; ...
DIST3:   	EQU   	&HAB  		; ...
DIST4:   	EQU   	&HAC  		; ...
DIST5:     	EQU   	&HAD  		; ...
DIST6:     	EQU   	&HAE  		; ...
DIST7:     	EQU   	&HAF  		; ...
SONAREN:   	EQU   	&HB2  		; register to control which sonars are enabled